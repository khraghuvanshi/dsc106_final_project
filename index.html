<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nutrition - Glucose Timeline</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script src="glucose_spike.js" type="module"></script>
    <script src="script.js" type="module"></script>
    <script src="main.js" type="module"></script>
  </head>
  <body>
    <!-- Full-width title div -->
    <div class="full-width-title">
      <button id="toggleNightMode">ðŸŒ™ Night Mode</button>
      <h1>Glucose Spikes: Are they a big yikes??</h1>
    </div>

    <div class="container">
      <div class="content-column">
        <section class="step" id="step-0">
          <div class="step-content">
            <h2>Welcome!</h2>
            <p>
              Are you hungry? What are you craving? Is it a bowl of pasta? 
              A sandwich? Salad? After sitting down for a meal, what happens
              next inside your body? Scroll down to explore how different 
              meals affect glucose levels in real-time!
            </p>

            <img src="diabetes_img2.png" alt="diabetes" width="100%" />
          </div>
        </section>

        <section class="step" id="step-1">
          <div class="step-content">
            <h2>Why Should You Care?</h2>
            <p>
              According to the CDC, <strong>1 in 10</strong> in America have
              diabetes. This means that in any given group of 10, at least one person
              is affected. Understanding glucose levels is crucial for
              maintaining long-term health.
            </p>
          </div>
        </section>

        <section class="step" id="step-2">
          <div class="step-content">
            <h2>Understanding the Data</h2>
            <p>
              We conducted an exploratory data analysis (EDA) to clean and
              structure the CGMacros dataset, which contains continuous glucose
              monitoring (CGM) readings, meal compositions, and participant
              health metrics.
            </p>
          </div>
        </section>

        <section class="step" id="step-3">
          <div class="step-content">
            <h2>Meal Points</h2>
            <p>
              Each point on the graph represents a meal. The y-axis shows
              glucose levels measured in mg/dL, while the x-axis represents
              time. Hover over meal points to see detailed nutritional
              information.
            </p>
          </div>
        </section>

        <section class="step" id="step-4">
          <div class="step-content">
            <h2>Glucose Timeline</h2>
            <p>
              The lines connecting meal points show how glucose levels change
              over time. Notice how different meal compositions can lead to
              varying glucose responses.
            </p>
            <div class="control-panel">
              <select id="participantDropdown"></select>
            </div>
          </div>
        </section>

        <section class="step" id="step-5">
          <div class="step-content">
            <h2>Explore the Data</h2>
            <p>
              In this section, you can explore how your diet may impact your overall health, specifically whether you might be at risk for diabetes. 
              The data visualization shows clusters based on real-world data of macro-nutrient consumption and glucose responses, helping us categorize different dietary patterns.
            </p>
            <p>
              By entering your own macro-nutrient consumption (carbs, protein, fat, and fiber), weâ€™ll predict which category you are likely to fall into: Healthy, Pre-diabetic, or Diabetic. This prediction is based on where your diet places you within the clusters.
            </p>
            <p>
              Try entering your current diet details below and see what your predicted health status might be based on your macro-nutrient intake!
            </p>

            <div class="input-container">
              <label
                >Carbs (g): <input type="number" id="carbs" value="50"
              /></label>
              <label
                >Protein (g): <input type="number" id="protein" value="20"
              /></label>
              <label
                >Fat (g): <input type="number" id="fat" value="10"
              /></label>
              <label
                >Fiber (g): <input type="number" id="fiber" value="5"
              /></label>
              <button onclick="addUserData()">Check Classification</button>
            </div>
          </div>
        </section>

        <section class="step" id="step-6">
          <div class="step-content">
            <h2>Glucose Spikes</h2>
            <p>
              Glucose Spike explanation
            </p>
          </div>
        </section>

        <section class="step" id="step-7">
          <div class="step-content">
            <h2>Glucose Spike Predictor</h2>
            <p>
              Each point on the graph represents a meal. The y-axis shows
              glucose levels measured in mg/dL, while the x-axis represents
              time. Hover over meal points to see detailed nutritional
              information.
            </p>
            <!-- Pre-Meal Glucose Input -->
            <div class="input-group">
              <label for="preMealGlucose"
                >Pre-Meal Glucose (mg/dL):
                <span id="preMealGlucoseValue">90</span></label
              >
              <input
                type="range"
                id="preMealGlucose"
                min="70"
                max="150"
                step="1"
                value="90"
              />
            </div>

            <!-- Sliders for user input -->
            <div class="input-group">
              <label for="bmi">BMI: <span id="bmiValue">25</span></label>
              <input
                type="range"
                id="bmi"
                min="15"
                max="40"
                step="1"
                value="25"
              />
            </div>

            <div class="input-group">
              <label for="carbs"
                >Carbs (grams): <span id="carbsValue">100</span></label
              >
              <input
                type="range"
                id="carbs-spike"
                min="0"
                max="300"
                step="10"
                value="100"
              />
            </div>

            <div class="input-group">
              <label for="protein"
                >Protein (grams): <span id="proteinValue">50</span></label
              >
              <input
                type="range"
                id="protein-spike"
                min="0"
                max="150"
                step="5"
                value="50"
              />
            </div>

            <div class="input-group">
              <label for="fat"
                >Fat (grams): <span id="fatValue">30</span></label
              >
              <input
                type="range"
                id="fat-spike"
                min="0"
                max="100"
                step="5"
                value="30"
              />
            </div>

          </div>
        </section>
      </div>

      <div class="vis-column">
        <div id="chart-container">
          <svg id="glucoseChart" width="700" height="500"></svg>
          <div class="tooltip"></div>
        </div>
      </div>
    </div>
  </body>
</html>
