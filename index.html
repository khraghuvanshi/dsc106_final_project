<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nutrition - Glucose Timeline</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <link rel="stylesheet" href="style.css" />
    <script src="script.js" type="module"></script>
    <script src="main.js" type="module"></script>
  </head>
  <body>
    <!-- Full-width title div -->
    <div class="full-width-title">
      <button id="toggleNightMode">ðŸŒ™ Night Mode</button>
      <h1>Glucose Spikes: Are they a big yikes??</h1>
    </div>

    <div class="container">
      <div class="content-column">
        <section class="step" id="step-0">
          <div class="step-content">
            <h2>Welcome!</h2>
            <p>
              Scroll down to explore how different meals affect glucose levels
              in real-time.
            </p>
          </div>
        </section>

        <section class="step" id="step-1">
          <div class="step-content">
            <h2>Why Should You Care?</h2>
            <p>
              According to the CDC, <strong>1 in 10</strong> people have
              diabetes. This means that in any given group, at least one person
              is affected. Understanding glucose levels is crucial for
              maintaining long-term health.
            </p>
          </div>
        </section>

        <section class="step" id="step-2">
          <div class="step-content">
            <h2>Understanding the Data</h2>
            <p>
              We conducted an exploratory data analysis (EDA) to clean and
              structure the CGMacros dataset, which contains continuous glucose
              monitoring (CGM) readings, meal compositions, and participant
              health metrics.
            </p>
          </div>
        </section>

        <section class="step" id="step-3">
          <div class="step-content">
            <h2>Meal Points</h2>
            <p>
              Each point on the graph represents a meal. The y-axis shows
              glucose levels measured in mg/dL, while the x-axis represents
              time. Hover over meal points to see detailed nutritional
              information.
            </p>
          </div>
        </section>

        <section class="step" id="step-4">
          <div class="step-content">
            <h2>Glucose Timeline</h2>
            <p>
              The lines connecting meal points show how glucose levels change
              over time. Notice how different meal compositions can lead to
              varying glucose responses.
            </p>
            <div class="control-panel">
              <select id="participantDropdown"></select>
            </div>
          </div>
        </section>

        <section class="step" id="step-5">
          <div class="step-content">
            <h2>Explore the Data</h2>
            <p>
              In this section, you can explore how your diet may impact your overall health, specifically whether you might be at risk for diabetes. 
              The data visualization shows clusters based on real-world data of macro-nutrient consumption and glucose responses, helping us categorize different dietary patterns.
            </p>
            <p>
              By entering your own macro-nutrient consumption (carbs, protein, fat, and fiber), weâ€™ll predict which category you are likely to fall into: Healthy, Pre-diabetic, or Diabetic. This prediction is based on where your diet places you within the clusters.
            </p>
            <p>
              Try entering your current diet details below and see what your predicted health status might be based on your macro-nutrient intake!
            </p>

            <div class="input-container">
              <label
                >Carbs (g): <input type="number" id="carbs" value="50"
              /></label>
              <label
                >Protein (g): <input type="number" id="protein" value="20"
              /></label>
              <label
                >Fat (g): <input type="number" id="fat" value="10"
              /></label>
              <label
                >Fiber (g): <input type="number" id="fiber" value="5"
              /></label>
              <button onclick="addUserData()">Check Classification</button>
            </div>
          </div>
        </section>
      </div>

      <div class="vis-column">
        <div id="chart-container">
          <svg id="glucoseChart" width="700" height="500"></svg>
          <div class="tooltip"></div>
        </div>
      </div>
    </div>
  </body>
</html>
